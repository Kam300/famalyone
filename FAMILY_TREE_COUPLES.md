# ะะธะทัะฐะปะธะทะฐัะธั ะฟะฐั ะฒ ัะตะผะตะนะฝะพะผ ะดัะตะฒะต

## โจ ะงัะพ ะธะทะผะตะฝะธะปะพัั

### ะะพ:
```
ะะฐะฑััะบะธ ะธ ะะตะดััะบะธ
[๐ด] [๐ต] [๐ด] [๐ต]
       โ
    ะะพะดะธัะตะปะธ
[๐จ] [๐ฉ] [๐จ] [๐ฉ]
       โ
     ะะตัะธ
[๐ฆ] [๐ง] [๐ฆ]
```

### ะะพัะปะต:
```
ะะฐะฑััะบะธ ะธ ะะตะดััะบะธ
[๐ด]โโโ[๐ต]    [๐ด]โโโ[๐ต]
      โผ              โผ
   [๐ฆ] [๐ง]      [๐ฆ] [๐ง]
       
       โ
       
    ะะพะดะธัะตะปะธ
[๐จ]โโโ[๐ฉ]
      โผ
 [๐ฆ] [๐ง] [๐ฆ]
```

## ๐ ะะฐะบ ัะฐะฑะพัะฐะตั ัะธััะตะผะฐ ะฟะฐั

### 1. ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ะฟะฐั
ะะฐัั ะพะฟัะตะดะตะปััััั ะฟะพ **ะพะฑัะธะผ ะดะตััะผ**:
- ะัะปะธ ั ะดะฒัั ัะปะตะฝะพะฒ ัะตะผัะธ (ะพัะตั + ะผะฐัั) ะตััั ัะพัั ะฑั ะพะดะธะฝ ะพะฑัะธะน ัะตะฑะตะฝะพะบ
- ะะฝะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะณััะฟะฟะธัััััั ะฒ ะฟะฐัั

### 2. ะะธะทัะฐะปะธะทะฐัะธั ะฟะฐั
**ะะพัะธะทะพะฝัะฐะปัะฝะฐั ะปะธะฝะธั:**
- ะะตะปะฐั ะปะธะฝะธั (โโโ) ัะพะตะดะธะฝัะตั ััะฟััะณะพะฒ
- ะจะธัะธะฝะฐ: 40dp, ะฟัะพะทัะฐัะฝะพััั: 80%
- ะะฐัะฐ ะพัะพะฑัะฐะถะฐะตััั ััะดะพะผ ะดััะณ ั ะดััะณะพะผ

**ะะตัะธ ะฟะพะด ะฟะฐัะพะน:**
- ะกััะตะปะบะฐ โผ ัะบะฐะทัะฒะฐะตั ะฝะฐ ะดะตัะตะน
- ะะพ 3 ะดะตัะตะน ะฟะพะบะฐะทัะฒะฐัััั ะผะฐะปะตะฝัะบะธะผะธ ะบะฐััะพัะบะฐะผะธ (80x80dp)
- ะัะปะธ ะดะตัะตะน ะฑะพะปััะต 3, ะฟะพะบะฐะทัะฒะฐะตััั "+N"

### 3. ะะดะธะฝะพัะฝัะต ัะปะตะฝั
ะัะปะธ ั ัะปะตะฝะฐ ัะตะผัะธ ะฝะตั ะฟะฐัั (ะฝะตั ะพะฑัะธั ะดะตัะตะน ั ะบะตะผ-ะปะธะฑะพ):
- ะัะพะฑัะฐะถะฐะตััั ะพัะดะตะปัะฝะพ
- ะะตะท ะณะพัะธะทะพะฝัะฐะปัะฝะพะน ะปะธะฝะธะธ
- ะ ัะพะน ะถะต ะณะตะฝะตัะฐัะธะธ, ะฝะพ ะพัะดะตะปัะฝัะผ ะฑะปะพะบะพะผ

## ๐ ะกัััะบัััะฐ ะดะฐะฝะฝัั

### ะะปะฐัั Couple
```kotlin
data class Couple(
    val person1: FamilyMember,      // ะะตัะฒัะน ัะปะตะฝ ะฟะฐัั (ะพะฑััะฝะพ ะพัะตั)
    val person2: FamilyMember,      // ะัะพัะพะน ัะปะตะฝ ะฟะฐัั (ะพะฑััะฝะพ ะผะฐัั)
    val children: List<FamilyMember> // ะั ะพะฑัะธะต ะดะตัะธ
)
```

### ะะปะณะพัะธัะผ ะฟะพะธัะบะฐ ะฟะฐั
```kotlin
fun findCouples(members: List<FamilyMember>): List<Couple>
```

1. ะคะธะปััััะตะผ ะฒัะตั ัะปะตะฝะพะฒ ั ะบะพัะพััั ะตััั ะพะฑะฐ ัะพะดะธัะตะปั (`fatherId` ะธ `motherId`)
2. ะััะฟะฟะธััะตะผ ะธั ะฟะพ ะบะพะผะฑะธะฝะฐัะธะธ ัะพะดะธัะตะปะตะน
3. ะะปั ะบะฐะถะดะพะน ะณััะฟะฟั ะฝะฐัะพะดะธะผ ะพััะฐ ะธ ะผะฐัั
4. ะกะพะทะดะฐะตะผ ะพะฑัะตะบั `Couple` ั ะธั ะดะตััะผะธ

## ๐จ ะะธะทัะฐะปัะฝัะต ัะปะตะผะตะฝัั

### ะะฐััะพัะบะฐ ัะปะตะฝะฐ ัะตะผัะธ (ะฑะพะปััะฐั)
- ะะฐะทะผะตั: 140x wrap_content
- ะคะพัะพ: 80x80dp
- ะะผั ะธ ะพััะตััะฒะพ
- ะะฐะบััะณะปะตะฝะฝัะต ัะณะปั: 16dp

### ะะฐััะพัะบะฐ ัะตะฑะตะฝะบะฐ (ะผะฐะปะตะฝัะบะฐั)
- ะะฐะทะผะตั: 80x80dp
- ะขะพะปัะบะพ ัะพัะพ
- ะะฐะบััะณะปะตะฝะฝัะต ัะณะปั: 12dp
- ะััััะฟั: 4dp

### ะะธะฝะธั ัะฒัะทะธ ะฟะฐัั
- ะจะธัะธะฝะฐ: 40dp
- ะััะพัะฐ: 4dp
- ะฆะฒะตั: ะฑะตะปัะน
- ะัะพะทัะฐัะฝะพััั: 80%

### ะกััะตะปะบะฐ ะบ ะดะตััะผ
- ะกะธะผะฒะพะป: โผ
- ะะฐะทะผะตั: 20sp
- ะฆะฒะตั: ะฑะตะปัะน
- ะัะพะทัะฐัะฝะพััั: 70%

## ๐ ะะพะณะธะบะฐ ะฟะพัััะพะตะฝะธั ะดัะตะฒะฐ

### 1. ะกะฑะพั ะดะฐะฝะฝัั
```kotlin
val couples = findCouples(members)
```

### 2. ะะปั ะบะฐะถะดะพะณะพ ะฟะพะบะพะปะตะฝะธั
```kotlin
buildGenerationWithCouples(
    title = "ะะพะดะธัะตะปะธ",
    generationMembers = [...],
    couples = couples,
    membersMap = membersMap
)
```

### 3. ะะฐะทะดะตะปะตะฝะธะต ะฝะฐ ะฟะฐัั ะธ ะพะดะธะฝะพัะฝัั
```kotlin
val generationCouples = couples.filter { /* ะฒ ััะพะผ ะฟะพะบะพะปะตะฝะธะธ */ }
val membersInCouples = /* ัะปะตะฝั ะฒ ะฟะฐัะฐั */
val singleMembers = /* ะพััะฐะปัะฝัะต */
```

### 4. ะัะพะฑัะฐะถะตะฝะธะต
```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ     ะะฐะณะพะปะพะฒะพะบ ะฟะพะบะพะปะตะฝะธั     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ   ะะฐัั (ั ะดะตััะผะธ ะฒะฝะธะทั)     โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค
โ    ะะดะธะฝะพัะฝัะต ัะปะตะฝั          โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ก ะัะธะผะตัั ะธัะฟะพะปัะทะพะฒะฐะฝะธั

### ะัะธะผะตั 1: ะัะพััะฐั ัะตะผัั
```
ะะพะดะธัะตะปะธ
[ะัะตั]โโโ[ะะฐัั]
       โผ
   [ะกัะฝ] [ะะพัั]
```

### ะัะธะผะตั 2: ะะตัะบะพะปัะบะพ ะฟะฐั
```
ะะฐะฑััะบะธ ะธ ะะตะดััะบะธ
[ะะตะด1]โโโ[ะะฐะฑััะบะฐ1]    [ะะตะด2]โโโ[ะะฐะฑััะบะฐ2]
        โผ                      โผ
    [ะัะตั]                  [ะะฐัั]

ะะพะดะธัะตะปะธ
[ะัะตั]โโโ[ะะฐัั]
       โผ
 [ะกัะฝ] [ะะพัั] [ะกัะฝ]
```

### ะัะธะผะตั 3: ะกะผะตัะฐะฝะฝะฐั ัะตะผัั
```
ะะพะดะธัะตะปะธ
[ะัะตั1]โโโ[ะะฐัั1]    [ะัะตั2]    [ะะฐัั2]โโโ[ะัะตั3]
        โผ             (ะพะดะธะฝ)           โผ
    [ะะตัะธ]                         [ะะตัะธ]
```

## ๐ ะัะตะธะผััะตััะฒะฐ ะฝะพะฒะพะน ะฒะธะทัะฐะปะธะทะฐัะธะธ

1. โ **ะงะตัะบะธะต ัะฒัะทะธ** - ะฒะธะดะฝะพ ะบัะพ ั ะบะตะผ ะฒ ะฟะฐัะต
2. โ **ะะตัะธ ะฟะพะด ัะพะดะธัะตะปัะผะธ** - ะฟะพะฝััะฝะพ ััะธ ััะพ ะดะตัะธ
3. โ **ะะพะผะฟะฐะบัะฝะพััั** - ะดะตัะธ ะฟะพะบะฐะทะฐะฝั ะผะฐะปะตะฝัะบะธะผะธ ะธะบะพะฝะบะฐะผะธ
4. โ **ะะฐัััะฐะฑะธััะตะผะพััั** - "+N" ะดะปั ะฑะพะปััะธั ัะตะผะตะน
5. โ **ะะธะฑะบะพััั** - ะพะดะธะฝะพัะฝัะต ัะปะตะฝั ะฟะพะบะฐะทัะฒะฐัััั ะพัะดะตะปัะฝะพ

## ๐ ะขัะตะฑะพะฒะฐะฝะธั ะบ ะดะฐะฝะฝัะผ

ะะปั ะฟัะฐะฒะธะปัะฝะพะณะพ ะพัะพะฑัะฐะถะตะฝะธั ะฟะฐั ะฝะตะพะฑัะพะดะธะผะพ:

1. **ะฃ ะดะตัะตะน ะดะพะปะถะฝั ะฑััั ัะบะฐะทะฐะฝั ะพะฑะฐ ัะพะดะธัะตะปั:**
   - `fatherId` - ID ะพััะฐ
   - `motherId` - ID ะผะฐัะตัะธ

2. **ะะพะดะธัะตะปะธ ะดะพะปะถะฝั ัััะตััะฒะพะฒะฐัั ะฒ ะะ:**
   - ะัะตั ั ัะพะพัะฒะตัััะฒัััะธะผ ID
   - ะะฐัั ั ัะพะพัะฒะตัััะฒัััะธะผ ID

3. **ะะพะปะธ ะดะพะปะถะฝั ัะพะพัะฒะตัััะฒะพะฒะฐัั:**
   - ะัะตั: `FATHER`, `GRANDFATHER`, `UNCLE`
   - ะะฐัั: `MOTHER`, `GRANDMOTHER`, `AUNT`

## ๐ง ะขะตัะฝะธัะตัะบะธะต ะดะตัะฐะปะธ

### ะะพัะธะทะพะฝัะฐะปัะฝะฐั ะฟัะพะบัััะบะฐ
ะัะปะธ ะฟะฐั ะผะฝะพะณะพ, ะผะพะถะฝะพ ะฟัะพะบัััะธะฒะฐัั ะณะพัะธะทะพะฝัะฐะปัะฝะพ:
```kotlin
HorizontalScrollView {
    LinearLayout(HORIZONTAL) {
        [ะะฐัะฐ1] [ะะฐัะฐ2] [ะะฐัะฐ3] ...
    }
}
```

### ะะตััะธะบะฐะปัะฝะฐั ััััะบัััะฐ
```kotlin
LinearLayout(VERTICAL) {
    [ะะฐะณะพะปะพะฒะพะบ]
    [ะะฝะดะธะบะฐัะพั ัะฒัะทะธ โ]
    [ะะฐัั ั ะดะตััะผะธ]
    [ะะดะธะฝะพัะฝัะต ัะปะตะฝั]
}
```

## ๐ฏ ะงัะพ ะพัะพะฑัะฐะถะฐะตััั

### ะะปั ะฟะฐัั ั ะดะตััะผะธ:
```
โโโโโโโโโโโโโโโโโโโโโโโโ
โ  [ะัะตั] โโ [ะะฐัั]   โ
โ         โผ            โ
โ   [๐ฆ] [๐ง] [๐ฆ]    โ
โโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะปั ะฟะฐัั ะฑะตะท ะดะตัะตะน:
```
โโโโโโโโโโโโโโโโโโโโโโโโ
โ  [ะัะตั] โโ [ะะฐัั]   โ
โโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะปั ะพะดะธะฝะพัะฝะพะณะพ ัะปะตะฝะฐ:
```
โโโโโโโโโโโโโโโโโโโโโโโโ
โ      [ะงะตะปะพะฒะตะบ]       โ
โโโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะัะพะฑะตะฝะฝะพััะธ ะธ ะพะณัะฐะฝะธัะตะฝะธั

1. **ะะดะธะฝ ัะตะปะพะฒะตะบ = ะพะดะฝะฐ ะฟะฐัะฐ**
   - ะัะปะธ ั ะพััะฐ ะดะตัะธ ะพั ัะฐะทะฝัั ะผะฐัะตัะตะน, ะพะฝะธ ะฑัะดัั ะฒ ัะฐะทะฝัั ะฟะฐัะฐั
   - ะญัะพ ะบะพััะตะบัะฝะพ ะพััะฐะถะฐะตั ััััะบัััั ัะตะผัะธ

2. **ะขะพะปัะบะพ ัะบะฐะทะฐะฝะฝัะต ัะฒัะทะธ**
   - ะะฐัั ะพะฟัะตะดะตะปััััั ัะพะปัะบะพ ะฟะพ ะดะตััะผ ั ัะบะฐะทะฐะฝะฝัะผะธ ัะพะดะธัะตะปัะผะธ
   - ะัะปะธ ั ัะตะฑะตะฝะบะฐ ะฝะต ัะบะฐะทะฐะฝ ะพัะตั ะธะปะธ ะผะฐัั, ะฟะฐัะฐ ะฝะต ััะพัะผะธััะตััั

3. **ะะพััะดะพะบ ะพัะพะฑัะฐะถะตะฝะธั**
   - ะกะฝะฐัะฐะปะฐ ะฟะพะบะฐะทัะฒะฐัััั ะฟะฐัั
   - ะะพัะพะผ ะพะดะธะฝะพัะฝัะต ัะปะตะฝั
   - ะ ัะฐะผะบะฐั ะบะฐัะตะณะพัะธะธ - ะฟะพ ะฟะพััะดะบั ะดะพะฑะฐะฒะปะตะฝะธั

4. **ะะฐะปะตะฝัะบะธะต ะบะฐััะพัะบะธ ะดะตัะตะน**
   - ะะพะบะฐะทัะฒะฐัััั ัะพะปัะบะพ ัะพัะพ
   - ะะปั ะฟัะพัะผะพััะฐ ะดะตัะฐะปะตะน ะฝัะถะฝะพ ะฟะตัะตะนัะธ ะฒ "ะกะฟะธัะพะบ ัะตะผัะธ"

## ๐ฑ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะกะพะทะดะฐะฝะธะต ะฟะฐัั:
1. ะะพะฑะฐะฒััะต ะพััะฐ (ัะพะปั: ะัะตั/ะะตะดััะบะฐ)
2. ะะพะฑะฐะฒััะต ะผะฐัั (ัะพะปั: ะะฐัั/ะะฐะฑััะบะฐ)
3. ะะพะฑะฐะฒััะต ัะตะฑะตะฝะบะฐ ะธ ัะบะฐะถะธัะต ะพะฑะพะธั ัะพะดะธัะตะปะตะน
4. ะ ะดัะตะฒะต ะพะฝะธ ะฐะฒัะพะผะฐัะธัะตัะบะธ ััะพัะผะธัััััั ะฒ ะฟะฐัั!

### ะะตะทัะปััะฐั:
```
ะะพะดะธัะตะปะธ
[ะะฒะฐะฝ ะะฒะฐะฝะพะฒ] โโ [ะะฐัะธั ะะฒะฐะฝะพะฒะฐ]
              โผ
        [ะะตัั ะะฒะฐะฝะพะฒ]
```

## โจ ะะธะทัะฐะปัะฝัะต ัะปัััะตะฝะธั

- ะะตะปัะต ะปะธะฝะธะธ ั ะฟัะพะทัะฐัะฝะพัััั ะฒัะณะปัะดัั ัะปะตะณะฐะฝัะฝะพ
- ะกััะตะปะบะธ ัะตัะบะพ ะฟะพะบะฐะทัะฒะฐัั ะฝะฐะฟัะฐะฒะปะตะฝะธะต ัะฒัะทะธ
- ะะฐะปะตะฝัะบะธะต ะบะฐััะพัะบะธ ะดะตัะตะน ัะบะพะฝะพะผัั ะผะตััะพ
- ะะพัะธะทะพะฝัะฐะปัะฝะฐั ะฟัะพะบัััะบะฐ ะดะปั ะฑะพะปััะธั ัะตะผะตะน

ะขะตะฟะตัั ัะตะผะตะนะฝะพะต ะดัะตะฒะพ ะฟะพะบะฐะทัะฒะฐะตั **ัะตะฐะปัะฝัะต ัะตะผะตะนะฝัะต ัะฒัะทะธ**! ๐จโ๐ฉโ๐งโ๐ฆ

